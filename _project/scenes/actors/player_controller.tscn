[gd_scene load_steps=12 format=3 uid="uid://v1c2c4vckq6k"]

[ext_resource type="Script" uid="uid://b5vkwli2l8y5c" path="res://_project/code/combat/PlayerBrain.cs" id="1_nsu2v"]
[ext_resource type="Script" uid="uid://cdl31mqlcnall" path="res://_project/code/combat/CombatModule.cs" id="2_qlm5v"]
[ext_resource type="PackedScene" uid="uid://us4hyhqbbyy4" path="res://_project/scenes/weapons/sword_1_handed.tscn" id="3_qo5k5"]
[ext_resource type="Script" uid="uid://btwwowicv1xta" path="res://_project/code/combat/CombatDebug.cs" id="4_fprsi"]

[sub_resource type="CapsuleMesh" id="CapsuleMesh_wel1o"]

[sub_resource type="CapsuleShape3D" id="CapsuleShape3D_r27b2"]

[sub_resource type="StandardMaterial3D" id="StandardMaterial3D_r27b2"]
albedo_color = Color(0.7873857, 0, 0.189607, 1)

[sub_resource type="BoxMesh" id="BoxMesh_dy5t4"]
material = SubResource("StandardMaterial3D_r27b2")

[sub_resource type="Animation" id="Animation_84dwo"]
length = 1.8000034
loop_mode = 1

[sub_resource type="Animation" id="Animation_fprsi"]
resource_name = "melee_attack"
length = 1.8000034
tracks/0/type = "value"
tracks/0/imported = false
tracks/0/enabled = true
tracks/0/path = NodePath("HandSlotRight:position")
tracks/0/interp = 1
tracks/0/loop_wrap = true
tracks/0/keys = {
"times": PackedFloat32Array(0, 0.1, 0.2, 0.3, 0.36666673, 0.5, 0.76666665, 0.9333334, 1.0666667, 1.2, 1.3, 1.4000001, 1.6666665),
"transitions": PackedFloat32Array(1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1),
"update": 0,
"values": [Vector3(0.6, 0.8, 0.39068967), Vector3(0.2073606, 1.3113978, 1.0137458), Vector3(0.71464723, 1.8547175, 0.0030884743), Vector3(-0.1137557, 1.0641633, -1.5008374), Vector3(-0.78527904, 0.7228972, -0.56510746), Vector3(-0.789, 0.442, -0.268), Vector3(-0.78894854, 0.5467596, -0.26787567), Vector3(-0.2972319, 0.85133046, -0.6128113), Vector3(0.5027255, 1.0788412, -0.61281127), Vector3(0.78160965, 1.3100215, -0.3339271), Vector3(0.8072963, 1.042146, 0.19081563), Vector3(0.5797856, 0.7118883, 0.60180277), Vector3(0.5797856, 0.63115865, 0.46969968)]
}
tracks/1/type = "value"
tracks/1/imported = false
tracks/1/enabled = true
tracks/1/path = NodePath("HandSlotRight:rotation")
tracks/1/interp = 1
tracks/1/loop_wrap = true
tracks/1/keys = {
"times": PackedFloat32Array(0, 0.1, 0.2, 0.3, 0.36666673, 0.5, 0.76666665, 0.9333334, 1.0666667, 1.2, 1.3, 1.4000001, 1.6666665),
"transitions": PackedFloat32Array(1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1),
"update": 0,
"values": [Vector3(-0.5104914, -0.7853982, -0.27146855), Vector3(0.54240906, -2.9048007, 0.54116297), Vector3(0.4223697, -3.556981, -2.6267204), Vector3(0.04601164, -0.12508124, -1.2460667), Vector3(-0.49904716, 1.4153042, -1.4338111), Vector3(-0.24266587, 2.3911817, -1.5446558), Vector3(-0.15413105, 2.4190502, -0.34067348), Vector3(-0.21200061, 2.4021263, -0.29844546), Vector3(-0.33692265, 1.4149427, -0.2784284), Vector3(0.37999585, 0.80178666, 1.8662483), Vector3(0.5176478, -0.50189114, 0.8520036), Vector3(-0.47791338, -1.2381201, -0.095405154), Vector3(-0.46722227, -0.9893047, -0.48931447)]
}

[sub_resource type="AnimationLibrary" id="AnimationLibrary_uxghf"]
_data = {
&"RESET": SubResource("Animation_84dwo"),
&"melee_attack": SubResource("Animation_fprsi")
}

[node name="PlayerBrain" type="CharacterBody3D"]
script = ExtResource("1_nsu2v")

[node name="BodyMesh" type="MeshInstance3D" parent="."]
transform = Transform3D(1, 0, 0, 0, 1, 0, 0, 0, 1, 0, 1, 0)
mesh = SubResource("CapsuleMesh_wel1o")

[node name="CollisionShape3D" type="CollisionShape3D" parent="."]
transform = Transform3D(1, 0, 0, 0, 1, 0, 0, 0, 1, 0, 1, 0)
shape = SubResource("CapsuleShape3D_r27b2")

[node name="FaceMesh" type="MeshInstance3D" parent="."]
transform = Transform3D(0.6, 0, 0, 0, 0.2, 0, 0, 0, 0.4, 0, 1.4, -0.4)
mesh = SubResource("BoxMesh_dy5t4")

[node name="CombatModule" type="Node3D" parent="." node_paths=PackedStringArray("_animator")]
script = ExtResource("2_qlm5v")
_animator = NodePath("../AnimationPlayer")

[node name="HandSlotRight" type="Node3D" parent="."]
transform = Transform3D(0.5885676, 0.5224518, -0.6169541, -0.23395911, 0.8405513, 0.48860627, 0.77385503, -0.14323564, 0.6169542, 0.6, 0.8, 0.39068967)

[node name="sword_1handed" parent="HandSlotRight" instance=ExtResource("3_qo5k5")]
transform = Transform3D(1.9106853e-15, -4.371139e-08, 1, -0.99999994, -4.371139e-08, 0, 4.3711385e-08, -1, -4.371139e-08, 0, 0, 0)

[node name="CombatDebug" type="Node3D" parent="." node_paths=PackedStringArray("WeaponPivot")]
script = ExtResource("4_fprsi")
WeaponPivot = NodePath("../HandSlotRight")

[node name="AnimationPlayer" type="AnimationPlayer" parent="."]
libraries = {
&"": SubResource("AnimationLibrary_uxghf")
}
